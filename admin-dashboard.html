<!-- admin-dashboard.html -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <title>ููุญุฉ ุชุญูู ุงูุฃุฏูู - ูุทุจุฎ ุณุงุฑุฉ</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="mobile.css" />
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
</head>

<body data-page="admin-dashboard">
  <header class="header">
    <div class="header-inner">
      <div class="header-logo">ูุทุจุฎ ุณุงุฑุฉ - ุฃุฏูู</div>
      <nav class="header-nav">
        <a href="admin-dashboard.html" class="header-link header-link--primary">ุงูุฑุฆูุณูุฉ</a>
        <button id="admin-logout-btn" class="header-link"
          style="background:none; border:none; cursor:pointer; font-family:inherit;">ุชุณุฌูู ุฎุฑูุฌ</button>
      </nav>
    </div>
  </header>

  <main class="main-container">
    <section class="section">
      <h1 class="page-title">ููุญุฉ ุชุญูู ุงูุฃุฏูู</h1>
      <!-- Metrics can be dynamic later -->
      <div class="grid grid-2"
        style="margin-top: 1rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
        <div class="card">
          <div class="card-title">ุทูุจุงุช ุงูููู</div>
          <div class="card-price" id="admin-metric-orders-today">-</div>
        </div>
        <div class="card">
          <div class="card-title">ูุจูุนุงุช ุงูููู</div>
          <div class="card-price" id="admin-metric-sales-today">-</div>
        </div>
      </div>
    </section>

    <!-- Tabs Navigation -->
    <div class="tabs-nav"
      style="display: flex; gap: 1rem; margin-bottom: 1.5rem; border-bottom: 2px solid #eee; padding-bottom: 0.5rem;">
      <button class="tab-btn active" data-target="orders-section"
        style="background: none; border: none; font-size: 1.1rem; font-weight: bold; cursor: pointer; padding: 0.5rem 1rem; border-bottom: 3px solid transparent;">ุงูุทูุจุงุช</button>
      <button class="tab-btn" data-target="products-section"
        style="background: none; border: none; font-size: 1.1rem; font-weight: bold; cursor: pointer; padding: 0.5rem 1rem; border-bottom: 3px solid transparent;">ุงูููุชุฌุงุช
        ูุงูุชุตูููุงุช</button>
      <button class="tab-btn" data-target="users-section"
        style="background: none; border: none; font-size: 1.1rem; font-weight: bold; cursor: pointer; padding: 0.5rem 1rem; border-bottom: 3px solid transparent;">ุงููุณุชุฎุฏููู</button>
      <button class="tab-btn" data-target="settings-section"
        style="background: none; border: none; font-size: 1.1rem; font-weight: bold; cursor: pointer; padding: 0.5rem 1rem; border-bottom: 3px solid transparent;">ุงูุฅุนุฏุงุฏุงุช</button>
    </div>

    <!-- Orders Section -->
    <section id="orders-section" class="tab-content active">
      <h2 class="section-title">ุงูุทูุจุงุช ุงูุฃุฎูุฑุฉ</h2>
      <div id="admin-orders-container" class="orders-grid">
        <!-- ุณูุชู ุชุญููู ุงูุทูุจุงุช ููุง -->
      </div>
    </section>

    <!-- Users Section -->
    <section id="users-section" class="tab-content" style="display: none;">
      <h2 class="section-title">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช</h2>

      <!-- Search Bar -->
      <div style="margin-bottom: 1rem;">
        <input type="text" id="user-search-input" class="form-input" placeholder="ุจุญุซ ุจุงูุงุณู ุฃู ุฑูู ุงููุงุชู..."
          style="width: 100%; max-width: 400px;">
      </div>

      <div id="admin-users-container" class="orders-grid">
        <!-- ุณูุชู ุชุญููู ุงููุณุชุฎุฏููู ููุง -->
      </div>
    </section>

    <!-- Settings Section -->
    <section id="settings-section" class="tab-content" style="display: none;">
      <h2 class="section-title">ุฅุนุฏุงุฏุงุช ุงููุธุงู</h2>

      <div class="card" style="max-width: 600px; margin: 0 auto;">
        <h3>ูุณุงุนุฏ ุฅุนุฏุงุฏุงุช ุชูููุฌุฑุงู ๐ค</h3>
        <p style="color: #666; margin-bottom: 1rem;">
          ุจุณุจุจ ุณูุงุณุงุช ุชูููุฌุฑุงูุ ูุง ูููู ุงูุฅุฑุณุงู ูุฑูู ุงููุงุชู ูุจุงุดุฑุฉ. ูุฌุจ ุงุณุชุฎุฏุงู <b>Chat ID</b>.
          <br>
          ุงุณุชุฎุฏู ูุฐู ุงูุฃุฏุงุฉ ููุนุฑูุฉ ุงูู ID ุงูุฎุงุต ุจู ุฃู ุจุงูููุทููู ุจุณูููุฉ.
        </p>

        <div style="background: #f9f9f9; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
          <ol style="margin-right: 1.5rem; margin-bottom: 1rem;">
            <li>ุงูุชุญ ุงูุจูุช ุงูุฎุงุต ุจู ูู ุชูููุฌุฑุงู.</li>
            <li>ุงุถุบุท <b>Start</b> ุฃู ุฃุฑุณู ุฃู ุฑุณุงูุฉ (ูุซูุงู: "ูุฑุญุจุงู").</li>
            <li>ุงุถุบุท ุงูุฒุฑ ุฃุฏูุงู ูุฌูุจ ุงููุนุฑูุงุช (IDs).</li>
          </ol>

          <div class="form-group">
            <label>Bot Token (ููุชุฌุฑุจุฉ ููุท - ูู ูุชู ุญูุธู)</label>
            <input type="text" id="telegram-bot-token-check" class="form-input" placeholder="ุถุน ุงูุชููู ููุง ูุคูุชุงู...">
          </div>

          <button id="check-telegram-updates-btn" class="btn btn-primary" style="width: 100%;">ุฌูุจ ุงููุนุฑูุงุช (Get Chat
            IDs)</button>
        </div>

        <div id="telegram-ids-result" style="margin-top: 1rem;"></div>
      </div>
    </section>

    <!-- Products & Categories Section -->
    <section id="products-section" class="tab-content" style="display: none;">

      <!-- Sub Tabs -->
      <div class="sub-tabs-nav" style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
        <button class="sub-tab-btn active btn btn-outline" data-target="sub-products">ูุงุฆูุฉ ุงูููุชุฌุงุช</button>
        <button class="sub-tab-btn btn btn-outline" data-target="sub-categories">ูุงุฆูุฉ ุงูุชุตูููุงุช</button>
      </div>

      <!-- Sub Section: Products -->
      <div id="sub-products" class="sub-tab-content active">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
          <h3 class="section-title">ุงูููุชุฌุงุช</h3>
          <button id="add-product-btn" class="btn btn-primary">โ ุฅุถุงูุฉ ููุชุฌ</button>
        </div>
        <div id="admin-products-container" class="orders-grid"></div>
      </div>

      <!-- Sub Section: Categories -->
      <div id="sub-categories" class="sub-tab-content" style="display: none;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
          <h3 class="section-title">ุงูุชุตูููุงุช</h3>
          <button id="add-category-btn" class="btn btn-primary">โ ุฅุถุงูุฉ ุชุตููู</button>
        </div>
        <div id="admin-categories-container" class="orders-grid"></div>
      </div>

    </section>
  </main>

  <!-- Modal for Order Details -->
  <div id="order-details-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" id="close-modal-btn">&times;</button>
      <h2 class="modal-title">ุชูุงุตูู ุงูุทูุจ</h2>
      <div id="modal-body"></div>
    </div>
  </div>

  <!-- Modal for Product Add/Edit -->
  <div id="product-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" id="close-product-modal-btn">&times;</button>
      <h2 class="modal-title" id="product-modal-title">ุฅุถุงูุฉ ููุชุฌ</h2>
      <form id="product-form" style="display: flex; flex-direction: column; gap: 1rem;">
        <input type="hidden" id="product-id">

        <div class="form-group">
          <label for="product-name">ุงุณู ุงูููุชุฌ</label>
          <input type="text" id="product-name" class="form-input" required>
        </div>

        <div class="form-group">
          <label for="product-price">ุงูุณุนุฑ (ุฌ.ู)</label>
          <input type="number" id="product-price" class="form-input" step="0.01" required>
        </div>

        <div class="form-group">
          <label for="product-category">ุงูุชุตููู</label>
          <select id="product-category" class="form-input" required>
            <!-- ุณูุชู ุชุญููู ุงูุชุตูููุงุช ููุง ุฏููุงููููุงู -->
          </select>
        </div>

        <div class="form-group">
          <label for="product-desc">ุงููุตู</label>
          <textarea id="product-desc" class="form-input" rows="3"></textarea>
        </div>

        <div class="form-group" style="display: flex; align-items: center; gap: 0.5rem;">
          <input type="checkbox" id="product-available" checked>
          <label for="product-available">ูุชุงุญ ููุทูุจ</label>
        </div>

        <button type="submit" class="btn btn-primary">ุญูุธ</button>
      </form>
    </div>
  </div>

  <!-- Modal for Category Add/Edit -->
  <div id="category-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close" id="close-category-modal-btn">&times;</button>
      <h2 class="modal-title" id="category-modal-title">ุฅุถุงูุฉ ุชุตููู</h2>
      <form id="category-form" style="display: flex; flex-direction: column; gap: 1rem;">
        <input type="hidden" id="category-id">

        <div class="form-group">
          <label for="category-name">ุงุณู ุงูุชุตููู</label>
          <input type="text" id="category-name" class="form-input" required>
        </div>

        <button type="submit" class="btn btn-primary">ุญูุธ</button>
      </form>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-inner">
      <div>ยฉ 2025 ูุทุจุฎ ุณุงุฑุฉ</div>
      <div>ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ</div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="config.js"></script>
  <script src="toast.js"></script>
  <script src="toast.js"></script>
  <script src="mobile-detect.js"></script>
  <script src="admin.js"></script>
</body>

</html>
```